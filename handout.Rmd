---
title   : "A practical primer on transparent research workflows"
subtitle: "Handout"
author  : "Frederik Aust & Dr. Johannes Breuer"

date    : "04.09.2018"
location: "ESCON 2018, Cologne, Germany"

output:
  bookdown::html_document2:
    theme         : "spacelab"
    df_print      : "kable"
    toc           : true
    toc_float     : true
---

```{r setup, include = FALSE}
library("knitr")
library("rmarkdown")

opts_chunk$set(echo = FALSE, fig.align = "center")
```

---

> do not let the perfect be the enemy of the good. Share
and document what you can, as it will provide a benefit
compared with not sharing (p. 4, Klein et al., 2018).

---

# General considerations

- Make transparency a default
    - Make documentation and sharing a by-product of the lab workflow
    - If possible, share all products of the research process
    - If negative constraints prohibit transparency, explicitly declare and justify these decisions in the manuscript
    - Automate what can be automated


# What can you share?

- Study protocol
    - Recepie for replication
    - Collates, describes, and organises more specific research products, e.g.,
        - Hypotheses
        - Study materials
        - Instructive video footage of procedure (https://www.jove.com/)
    <!-- - May be more detailed than published description -->
    <!-- - Facilitates scientific progress (e.g., replication and extension) -->

- Study material
    - Can be anything necessary to conduct the study, e.g.,
        - Questionnaires
        - Stimuli
        - Computer code to present stimuli and collect responses
        - Procedures for an interaction with a confederate
    <!-- - Aids interpretation of results -->
    <!-- - Facilitates scientific progress (e.g., replication and extension) -->

- Data & Metadata
    - Raw data
        - As originally recoreded (e.g., paper-pencil-questionaires, CSV files, video recordings)
    - Processed data
        - As used for analyses (e.g., coded, digitized, merged)
    - Protect privacy of participants (identifying and sensitive information)
        - Anonymisation
        - GDPR
        - Informed consent
    - Use open and interoperable file formats (e.g., CSV)
    - Metadata
        - Dataset documentation
        - Who collected the data how and when
        - Number of observations
        - Variable and value labels
        - Simple codebooks vs. standardized and machine-readable (services provided by repositories)
    - FAIR
    
    - **Demonstration**: Show examples (https://osf.io/rv7py/, https://osf.io/e4tqy/), show `codebook` package and [SPSS codebook function](https://libguides.library.kent.edu/SPSS/Codebooks) <!-- TODO: Johannes, hast du eine SPSS-Lizenz um Screenshots von sowas zu machen? -->

- Standard operating procedures
    - Lab workflow: https://osf.io/mv8pj/wiki/
    - Analytical procedures: https://github.com/acoppock/Green-Lab-SOP (
https://doi.org/10.1017/S1049096516000810)

- Analysis scripts, software
    - Detailed documentation of how the analytic results were obtained
    - exact specification of how to move from raw data to reported results (including cleaning or transformation of data)
        - Step-by-step description of analyses performed in non-scriptable software programs
        - R scripts, SPSS syntax, custom software
        - Documentation of computational environment
    - Use open source software (Huff, 2017; Morin et al., 2012)


- Reports
    - Open access ensures wide accessibility
    - Green open access
        - preprint repositories, like [PsyArXiv](https://psyarxiv.com/), [BioArXiv](https://www.biorxiv.org/)
        - Usually not considered "prior publication" (Bourne, Polka, Vale, &
Kiley, 2017)
    - Gold open access
        - Open publication by publisher

```{r figure1, fig.cap = "Decision flowchart outlining important considerations when sharing research products."}
include_graphics("images/klein-et-al-figure-1.png")
```


# When can you share?

> When it comes to the question of when to share, any time
is better than never  (p. 4, Klein et al., 2018).

- Planning to share
    - Have a basic data management plan ([Jones, 2011](http://www.dcc.ac.uk/resources/how-guides), https://www.icpsr.umich.edu/icpsrweb/content/datamanagement/dmp/framework.html, http://www.dcc.ac.uk/sites/default/files/documents/resource/DMP/DMP-checklist-flyer.pdf) <!-- TODO: Can we give a simple example here? Provide additional guidance? -->
        - Examples: https://dmponline.dcc.ac.uk/public_plans
        - Project structure
    - Simplifies addressing legal and ethical issues
    - Reduces extra effort associated with sharing

- Before data collection
    - Study protocol
    - Study material
    - Analysis scripts
        - Standard operating procedures
    - Formal time-stamped preregistration or not
    - [Registered reports](https://cos.io/rr/)

- During data collection
    - Study protocol
    - Study material
    - Analysis scripts
    - Raw data
        - Born-open data
            - Automatically uploaded to a public repository
                - Reduces extra effort associated with sharing
            - Offsite backup
            - Protect participants' privacy!
            - [Born-open data with cloud storage providers](http://psych-transparency-guide.uni-koeln.de/born-open-data.html)

- Upon paper submission (or upon publication)
    - Recommended (vs. paper publication)
    - Allows thorough evaluation of research
        - Possible errors can be spotted early on (no public correction)
    - Demonstrates dedication to openness
    - [OSF view-only links](http://help.osf.io/m/links_forks/l/524049-create-a-view-only-link-for-a-project)
    

- After an embargo
    - Archive in public respository, but publish later
    - Allows further analyses of dataset and investigation of research question
    - Reduces extra effort associated with sharing

- Study protocol
- Study material
- Data & Metadata
    - Born-open data
        - **Demonstration**: Set up Dropbox to collect born-open data <!-- TODO: Johannes, ist das eher when oder how? -->
- Analysis scripts
    - Demonstrate dynamic documents

```{r figure2, fig.cap = "Typical workflow indicating when to share research products at different stages of the research process."}
include_graphics("images/klein-et-al-figure-2.png")
```


# How can you share?

- Project structure and naming scheme



- Study protocol
    - Preregistration
        - **Demonstration**: Show some preregistration websites, showcase good preregistrations (https://osf.io/h9k8n/)
    - Registered report

- Study material, data & metadata
    - Choose a suitable public repository
        1. Uses persistent and unique identifiers for products (such as DOIs).
        2. Accommodates structured metadata to maximize discoverability and reuse.
        3. Tracks data re-use (e.g., citations, download counts).
        4. Accommodates licensing (e.g., provides the ability to place legal restrictions on data reuse or signal there are no restrictions).
        5. Features access controls (e.g., allows restriction of access to a particular set of users).
        6. Has some persistence guarantees for long-term access.
        7. Stores data in accordance with local legislation (e.g., the new General Data Protection Regulation for the EU, http://www.eugdpr.org/).
    - Data & meta data
        - Protect participant privacy!
    - Public != free to use
    - Adhere to copyright and licensing regulations
    - Explicitly apply permissive license
        - Use easy-to-understand standard licenses
            - [Creative Commons](https://creativecommons.org/licenses/)
            - [Open data commons](https://opendatacommons.org/licenses/)
            - Simply include a license statement in a text file ("All files in this repository are licensed under a Creative Commons Zero License (CC0 1.0)")
        - Recommendations
            - Public domain, CC0 and ODC-PDDL
            - Condition re-use only on attribution, CC-BY and ODC-BY

<!-- TODO: Tabelle 1 hier unterbringen -->


    - Hand out DGPs model informed consent
    - Handout table that summarizes repositories
        - Discuss some usecases (maybe suggested by participants)
    - Repository structure
        - **Demonstration**: Browse example OSF repository
    - Citeable datasets
    - GDPR (see Arslan slides)
        - Anonymisation (https://amnesia.openaire.eu/index.html, http://arx.deidentifier.org/)

- Analysis scripts
    - Briefly note some best practices
    - **Demonstrate**: Dynamic documents (`papaja`)

- Reports
    - Say something about PsyArXiv vs. BioArXiv vs. PeerJ vs. ...
    - PsyArXiv: Official partner of APA (http://www.apa.org/pubs/authors/unauthorized-internet-posting.aspx)
    - https://en.wikipedia.org/wiki/List_of_academic_journals_by_preprint_policy (not an exhaustive list)
Only two that explicitly rule out preprints
        - NEJM [New England Journal of Medicine] and JCI [Journal of Clinical Investigation]
- Licenses
    - Overview of common licenses


- Reports (https://nikokriegeskorte.org/2016/03/13/the-selfish-scientists-guide-to-preprint-posting/, https://archaeologicalnetworks.wordpress.com/2017/09/28/open-science-in-archaeology-publication-and-special-interest-group/)
    - preregistration
    - upon submission (preprint)
    - upon acceptance (postprint)
        - http://www.sherpa.ac.uk/romeo/search.php


# How you can promote openness?

- Incentivize sharing
    - PRO initiative
    - Commitment to Research Transparency and Open Science (http://www.researchtransparency.org/)
    - practical advantages for researchers (find your own data, more citations...)

- How can you promote research transparency?
    - use templates for transparent & reproducible projects
    - share materials with your collaborators
    - teach your students and colleagues
        - What do we do here in Cologne?
        - Example: Registered Report draft as non-empirical Bachelor's thesis
    - vote with you feet
        - Choose journals that value openness/robustness over falshy journals
    - Incentives
        - Take openess into account when particpating in commissions
    - Give credit where credit is due (cite data, open source software developed by academics, etc.)


- Why not to share?
    - Brief discussion of DSGVO? (Anonymisation example?)
    - Examples of sensitive data (from participants)
    - Scooping
        - Usually an unwarranted fear
        - Publish upon acceptance or with an embargo
    - I could be wrong
        - Errors are inevitable
        - Promotes scientific self-correction
        - Errors will become a normal part of science
        - Constructive self-correction will improve scholars' standing (Fetterman & Sassenberg, 2015)
    - Time-consuming
        - Take one step at a time ("baby steps")
        - Open science == good research management practices
            - Increases efficency in the long-run
        - Increases exposure and citations
        - Helps to avoid fruitless avenues for future studies


---

> Open Science is just science done right<br /><br />&mdash;Jon Tennant, Imperial College London

---

# Additional preparations

- Set up OSF repository with project structure that participants can fork to create their own project
- TIER template to clone: https://osf.io/ybzxe/
- BIDS example on GitHub: https://github.com/INCF/BIDS-examples
- Informed consent, Appendix B: https://www.dgps.de/fileadmin/documents/Empfehlungen/Data_Management_eng_9.11.16.pdf

- Prepare OSF demo (see Candice Morey's slides)

- Check https://open-science-training-handbook.gitbook.io/book/examples-and-practical-guidance

re3data.org



---

# Reading

Klein, O., Hardwicke, T. E., Aust, F., Breuer, J., Danielsson, H., Mohr, A. H., â€¦ Frank, M. C. (2018). A Practical Guide for Transparency in Psychological Science. _Collabra: Psychology_, 4(1). doi: [10.1525/collabra.158](https://doi.org/10.1525/collabra.158) [Supplementary](material
http://psych-transparency-guide.uni-koeln.de/)

---
Handout for *`r metadata$title`*, `r metadata$location`, `r metadata$date`.

Frederik Aust ([frederik.aust@uni-koeln.de](mailto:frederik.aust@uni-koeln.de), [\@frederikaust](http://twitter.com/frederikaust)); Dr. Johannes Breuer ([johannes.breuer@gesis.org](mailto:johannes.breuer@gesis.org))
